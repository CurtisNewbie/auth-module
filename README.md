# auth-module

**Note: This is based on Spring Security, the authentication/authorization involves sending http requests to auth-service. A much better way to secure your services will be using a gateway, see my [auth-gateway](https://github.com/CurtisNewbie/auth-gateway) example.**

Module for web security, user authentication, and integration with **auth-service** (https://github.com/CurtisNewbie/auth-service). The `auth-module-web/` provides some of the common REST endpoints that are shared in all *my* webapps, e.g., user registration, get user info and so on.

## Configuration

Data Type | Property Name | Description | Default Value
----------|--------------|-------------|---------------
string array | authmodule.permittedAntPatterns | array of ant patterns delimited by ',' that can be accessed by anyone without authentication | []
string | authmodule.loginProcessingUrl | processing url for login | /login
string | authmodule.customLoginPage | url of custom login page, if not specified, a form login page is generated by Spring | /login  
string | authmodule.logoutUrl | logout url | /logout 
boolean | authmodule.enableOperateLog | enable logging of user operation, this logs any controller methods annotated with @OperationLog, this is saved in database asynchronously (using RabbitMQ) | true 
boolean | authmodule.enableAccessLog | enable logging of user access, this logs user's login information, this is saved in database asynchronously (using RabbitMQ) | true
boolean | authmodule.permitAdminLoginOnly | only allow user with role 'admin' to login | false
boolean | authmodule.enableControllerConsoleLog | enable logging of controllers' methods, will print out information on console, such as endpoints method parameters, it's useful for debugging | true 
string | authmodule.authServiceLoginUrl | login endpoint provided by the auth-service | http://auth-service/open/api/user/login

## Modules and Dependencies

This project depends on the following modules that you must manually install (using `mvn clean install`).

- curtisnewbie-bom
    - description: BOM file for dependency management
    - url: https://github.com/CurtisNewbie/curtisnewbie-bom
    - under `/microservice` folder

- auth-service-remote
    - description: API layer for using auth-service (via RPC calls)
    - url: https://github.com/CurtisNewbie/auth-service

- auth-service-messaging
    - description: routing information for auth-service's messaging/MQ functionalities
    - url: https://github.com/CurtisNewbie/auth-service

- common-module
    - description: for common utility classes 
    - url: https://github.com/CurtisNewbie/common-module

- log-tracing-module
    - description: for log tracing between web endpoints and service layers
    - url: https://github.com/CurtisNewbie/log-tracing-module

- messaging-module
    - description: for RabbitMQ-based messaging 
    - url: https://github.com/CurtisNewbie/messaging-module

- jwt-module
    - description: module for JWT encoding / decoding 
    - url: https://github.com/CurtisNewbie/jwt-module
