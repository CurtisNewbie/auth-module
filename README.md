# auth-module

Module for web security, user authentication, and integration with **auth-service** (https://github.com/CurtisNewbie/auth-service). The one in `authmodule/` will do just what is mentioned in previous sentience, and the one in `auth-module-web/` provides some of the common REST endpoints that are shared in all my webapps, e.g., user registration, get user info and so on.

## Configuration

Data Type | Property Name | Description | Default Value
----------|--------------|-------------|---------------
string array | authmodule.permitted-ant-patterns | array of ant patterns delimited by ',' that can be accessed by anyone without authentication | 
string | authmodule.login-processing-url | processing url for login | /login
string | authmodule.custom-login-page | url of custom login page, if not specified, a form login page is generated by Spring | /login  
string | authmodule.logout-url | logout url | /logout 
boolean | authmodule.enable-operate-log | enable logging of user operation, this logs any controller methods annotated with @OperationLog, this is saved in database asynchronously | true 
boolean | authmodule.enable-access-log | enable logging of user access, this logs user's login information, this is saved in database asynchronously | true
boolean | authmodule.permit-admin-login-only | only allow admin to login | false
boolean | authmodule.enable-controller-console-log | enable logging of controllers' methods, will print out information on console, such as endpoints method parameters, it's useful for debugging | false
String |  authmodule.application-name | name of current application, this is used to validate if the user that is being authenticated actually has the right to use current application. If it's not specified, then only the username and password are validated (see **auth-service** for more information) | 

## Modules and Dependencies

This project depends on the following modules that you must manually install (using `mvn clean install`).

- curtisnewbie-bom
    - description: BOM file for dependency management
    - url: https://github.com/CurtisNewbie/curtisnewbie-bom
    - branch: main
    - under `/microservice` folder

- auth-service-remote
    - description: API layer for using auth-service (via RPC calls)
    - url: https://github.com/CurtisNewbie/auth-service
    - branch: main 

- auth-service-messaging
    - description: routing information for auth-service's messaging/MQ functionalities
    - url: https://github.com/CurtisNewbie/auth-service
    - branch: main 

- common-module
    - description: for common utility classes 
    - url: https://github.com/CurtisNewbie/common-module
    - branch: main

- service-module
    - description: import dependencies for a Dubbo service
    - url: https://github.com/CurtisNewbie/service-module
    - branch: main

- log-tracing-module
    - description: for log tracing between web endpoints and service layers
    - url: https://github.com/CurtisNewbie/log-tracing-module
    - branch: main

- messaging-module
    - description: for RabbitMQ-based messaging 
    - url: https://github.com/CurtisNewbie/messaging-module
    - branch: main