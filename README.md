# auth-module

Module for web security, user authentication, and integration with **auth-service** (https://github.com/CurtisNewbie/auth-service). The one in `authmodule/` will do just what is mentioned in previous sentience, and the one in `auth-module-web/` provides some of the common REST endpoints that are shared in all my webapps, e.g., user registration, get user info and so on.

## Configuration

Data Type | Property Name | Description | Default Value
----------|--------------|-------------|---------------
string array | authmodule.permittedAntPatterns | array of ant patterns delimited by ',' that can be accessed by anyone without authentication | 
string | authmodule.permittedAntPatterns | processing url for login | /login
string | authmodule.customLoginPage | url of custom login page, if not specified, a form login page is generated by Spring | /login  
string | authmodule.logoutUrl | logout url | /logout 
boolean | authmodule.enableOperateLog | enable logging of user operation, this logs any controller methods annotated with @OperationLog, this is saved in database asynchronously | true 
boolean | authmodule.enableAccessLog | enable logging of user access, this logs user's login information, this is saved in database asynchronously | true
boolean | authmodule.permitAdminLoginOnly | only allow user with role 'admin' to login | false
boolean | authmodule.enableControllerConsoleLog | enable logging of controllers' methods, will print out information on console, such as endpoints method parameters, it's useful for debugging | true 
boolean | authmodule.appAuthorizationChecked | whether we should check user's authorization to use current application (`spring.application.name` is used to identify which application is used). (see **auth-service** for more information) | false

## Modules and Dependencies

This project depends on the following modules that you must manually install (using `mvn clean install`).

- curtisnewbie-bom
    - description: BOM file for dependency management
    - url: https://github.com/CurtisNewbie/curtisnewbie-bom
    - branch: main
    - under `/microservice` folder

- auth-service-remote
    - description: API layer for using auth-service (via RPC calls)
    - url: https://github.com/CurtisNewbie/auth-service
    - branch: main 

- auth-service-messaging
    - description: routing information for auth-service's messaging/MQ functionalities
    - url: https://github.com/CurtisNewbie/auth-service
    - branch: main 

- common-module
    - description: for common utility classes 
    - url: https://github.com/CurtisNewbie/common-module
    - branch: main

- service-module
    - description: import dependencies for a Dubbo service
    - url: https://github.com/CurtisNewbie/service-module
    - branch: main

- log-tracing-module
    - description: for log tracing between web endpoints and service layers
    - url: https://github.com/CurtisNewbie/log-tracing-module
    - branch: main

- messaging-module
    - description: for RabbitMQ-based messaging 
    - url: https://github.com/CurtisNewbie/messaging-module
    - branch: main
